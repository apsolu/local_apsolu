{"version":3,"file":"federation_adhesion_health_quiz.min.js","sources":["../src/federation_adhesion_health_quiz.js"],"sourcesContent":["define([], function() {\n    return {\n        initialise: function() {\n            // Récupère tous les champs radio.\n            let inputs = document.querySelectorAll('#healthquizquestionsform input[type=radio]');\n            for (let i = 0; i < inputs.length; i++) {\n                // Ajoute un écouteur sur chaque bouton radio.\n                inputs[i].addEventListener('change', function() {\n                    // Récupère la liste des boutons radio cochés.\n                    let allinputs = document.querySelectorAll('#healthquizquestionsform input[type=radio]');\n                    let inputs = document.querySelectorAll('#healthquizquestionsform input[type=radio]:checked');\n\n                    // Si tous les boutons radio sont cochés, on calcule le score.\n                    // La variable allinputs.length contient les checkboxes oui/non. Donc, on divise par 2.\n                    if (inputs.length === (allinputs.length / 2)) {\n                        // On initialise le score à 0.\n                        let healthquizvalue = document.getElementById('healthquizvalue');\n                        healthquizvalue.value = 0;\n\n                        for (let i = 0; i < inputs.length; i++) {\n                            if (inputs[i].value === '0') {\n                                continue;\n                            }\n\n                            // On positionne le score à 1 si l'utilisateur a répondu Oui à une question.\n                            healthquizvalue.value = 1;\n                            break;\n                        }\n\n                        // Déverrouille le bouton d'envoi du formulaire.\n                        let submit = document.getElementById('healthquizsubmit');\n                        submit.removeAttribute('disabled');\n                    }\n                });\n            }\n        }\n    };\n});\n"],"names":["define","initialise","inputs","document","querySelectorAll","i","length","addEventListener","allinputs","healthquizvalue","getElementById","value","removeAttribute"],"mappings":"AAAAA,sDAAO,IAAI,iBACA,CACHC,WAAY,eAEJC,OAASC,SAASC,iBAAiB,kDAClC,IAAIC,EAAI,EAAGA,EAAIH,OAAOI,OAAQD,IAE/BH,OAAOG,GAAGE,iBAAiB,UAAU,eAE7BC,UAAYL,SAASC,iBAAiB,8CACtCF,OAASC,SAASC,iBAAiB,yDAInCF,OAAOI,SAAYE,UAAUF,OAAS,EAAI,KAEtCG,gBAAkBN,SAASO,eAAe,mBAC9CD,gBAAgBE,MAAQ,MAEnB,IAAIN,EAAI,EAAGA,EAAIH,OAAOI,OAAQD,OACP,MAApBH,OAAOG,GAAGM,OAKdF,gBAAgBE,MAAQ,QAKfR,SAASO,eAAe,oBAC9BE,gBAAgB"}