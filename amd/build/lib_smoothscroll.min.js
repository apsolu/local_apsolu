var root,factory;root="undefined"!=typeof global?global:window.window||window.global,factory=function(root){var settings,eventTimeout,fixedHeader,headerHeight,animationInterval,smoothScroll={},supports="querySelector"in document&&"addEventListener"in root,defaults={selector:"[data-scroll]",selectorHeader:"[data-scroll-header]",speed:500,easing:"easeInOutCubic",offset:0,updateURL:!0,callback:function(){}},extend=function(){var extended={},deep=!1,i=0,length=arguments.length;"[object Boolean]"===Object.prototype.toString.call(arguments[0])&&(deep=arguments[0],i++);for(var merge=function(obj){for(var prop in obj)Object.prototype.hasOwnProperty.call(obj,prop)&&(deep&&"[object Object]"===Object.prototype.toString.call(obj[prop])?extended[prop]=extend(!0,extended[prop],obj[prop]):extended[prop]=obj[prop])};i<length;i++){var obj=arguments[i];merge(obj)}return extended};smoothScroll.escapeCharacters=function(id){"#"===id.charAt(0)&&(id=id.substr(1));for(var codeUnit,string=String(id),length=string.length,index=-1,result="",firstCodeUnit=string.charCodeAt(0);++index<length;){if(0===(codeUnit=string.charCodeAt(index)))throw new InvalidCharacterError("Invalid character: the input contains U+0000.");result+=codeUnit>=1&&codeUnit<=31||127==codeUnit||0===index&&codeUnit>=48&&codeUnit<=57||1===index&&codeUnit>=48&&codeUnit<=57&&45===firstCodeUnit?"\\"+codeUnit.toString(16)+" ":codeUnit>=128||45===codeUnit||95===codeUnit||codeUnit>=48&&codeUnit<=57||codeUnit>=65&&codeUnit<=90||codeUnit>=97&&codeUnit<=122?string.charAt(index):"\\"+string.charAt(index)}return"#"+result};var getHeaderHeight=function(header){return null===header?0:(elem=header,Math.max(elem.scrollHeight,elem.offsetHeight,elem.clientHeight)+header.offsetTop);var elem};smoothScroll.animateScroll=function(anchor,toggle,options){var overrides=function(options){return options&&"object"==typeof JSON&&"function"==typeof JSON.parse?JSON.parse(options):{}}(toggle?toggle.getAttribute("data-options"):null),settings=extend(settings||defaults,options||{},overrides),isNum="[object Number]"===Object.prototype.toString.call(anchor),anchorElem=isNum?null:"#"===anchor?root.document.documentElement:root.document.querySelector(anchor);if(isNum||anchorElem){var startLocation=root.pageYOffset;fixedHeader||(fixedHeader=root.document.querySelector(settings.selectorHeader)),headerHeight||(headerHeight=getHeaderHeight(fixedHeader));var percentage,position,endLocation=isNum?anchor:function(anchor,headerHeight,offset){var location=0;if(anchor.offsetParent)do{location+=anchor.offsetTop,anchor=anchor.offsetParent}while(anchor);return(location=location-headerHeight-offset)>=0?location:0}(anchorElem,headerHeight,parseInt(settings.offset,10)),distance=endLocation-startLocation,documentHeight=Math.max(root.document.body.scrollHeight,root.document.documentElement.scrollHeight,root.document.body.offsetHeight,root.document.documentElement.offsetHeight,root.document.body.clientHeight,root.document.documentElement.clientHeight),timeLapsed=0;isNum||function(anchor,url){root.history.pushState&&(url||"true"===url)&&"file:"!==root.location.protocol&&root.history.pushState(null,null,[root.location.protocol,"//",root.location.host,root.location.pathname,root.location.search,anchor].join(""))}(anchor,settings.updateURL);var loopAnimateScroll=function(){var type,time,pattern;percentage=(percentage=(timeLapsed+=16)/parseInt(settings.speed,10))>1?1:percentage,position=startLocation+distance*(type=settings.easing,time=percentage,"easeInQuad"===type&&(pattern=time*time),"easeOutQuad"===type&&(pattern=time*(2-time)),"easeInOutQuad"===type&&(pattern=time<.5?2*time*time:(4-2*time)*time-1),"easeInCubic"===type&&(pattern=time*time*time),"easeOutCubic"===type&&(pattern=--time*time*time+1),"easeInOutCubic"===type&&(pattern=time<.5?4*time*time*time:(time-1)*(2*time-2)*(2*time-2)+1),"easeInQuart"===type&&(pattern=time*time*time*time),"easeOutQuart"===type&&(pattern=1- --time*time*time*time),"easeInOutQuart"===type&&(pattern=time<.5?8*time*time*time*time:1-8*--time*time*time*time),"easeInQuint"===type&&(pattern=time*time*time*time*time),"easeOutQuint"===type&&(pattern=1+--time*time*time*time*time),"easeInOutQuint"===type&&(pattern=time<.5?16*time*time*time*time*time:1+16*--time*time*time*time*time),pattern||time),root.scrollTo(0,Math.floor(position)),function(position,endLocation,animationInterval){var currentLocation=root.pageYOffset;(position==endLocation||currentLocation==endLocation||root.innerHeight+currentLocation>=documentHeight)&&(clearInterval(animationInterval),isNum||anchorElem.focus(),settings.callback(anchor,toggle))}(position,endLocation,animationInterval)};0===root.pageYOffset&&root.scrollTo(0,0),clearInterval(animationInterval),animationInterval=setInterval(loopAnimateScroll,16)}};var eventHandler=function(event){var toggle=function(elem,selector){var attribute,value,firstChar=selector.charAt(0),supports="classList"in document.documentElement;for("["===firstChar&&(attribute=(selector=selector.substr(1,selector.length-2)).split("=")).length>1&&(value=!0,attribute[1]=attribute[1].replace(/"/g,"").replace(/'/g,""));elem&&elem!==document;elem=elem.parentNode){if("."===firstChar)if(supports){if(elem.classList.contains(selector.substr(1)))return elem}else if(new RegExp("(^|\\s)"+selector.substr(1)+"(\\s|$)").test(elem.className))return elem;if("#"===firstChar&&elem.id===selector.substr(1))return elem;if("["===firstChar&&elem.hasAttribute(attribute[0])){if(!value)return elem;if(elem.getAttribute(attribute[0])===attribute[1])return elem}if(elem.tagName.toLowerCase()===selector)return elem}return null}(event.target,settings.selector);if(toggle&&"a"===toggle.tagName.toLowerCase()){event.preventDefault();var hash=smoothScroll.escapeCharacters(toggle.hash);smoothScroll.animateScroll(hash,toggle,settings)}},eventThrottler=function(event){eventTimeout||(eventTimeout=setTimeout((function(){eventTimeout=null,headerHeight=getHeaderHeight(fixedHeader)}),66))};return smoothScroll.destroy=function(){settings&&(root.document.removeEventListener("click",eventHandler,!1),root.removeEventListener("resize",eventThrottler,!1),settings=null,eventTimeout=null,fixedHeader=null,headerHeight=null,animationInterval=null)},smoothScroll.init=function(options){supports&&(smoothScroll.destroy(),settings=extend(defaults,options||{}),fixedHeader=root.document.querySelector(settings.selectorHeader),headerHeight=getHeaderHeight(fixedHeader),root.document.addEventListener("click",eventHandler,!1),fixedHeader&&root.addEventListener("resize",eventThrottler,!1))},smoothScroll},"function"==typeof define&&define.amd?define("local_apsolu/lib_smoothscroll",[],factory(root)):"object"==typeof exports?module.exports=factory(root):root.smoothScroll=factory(root);

//# sourceMappingURL=lib_smoothscroll.min.js.map