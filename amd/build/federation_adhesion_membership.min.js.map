{"version":3,"file":"federation_adhesion_membership.min.js","sources":["../src/federation_adhesion_membership.js"],"sourcesContent":["define([], function() {\n    return {\n        setHonorability: function() {\n            const select = document.getElementById('id_licensetype');\n\n            if (!select) {\n                // Le formulaire est probablement en lecture seule.\n                return;\n            }\n\n            let honorability = 0;\n            for (let i = 0; i < select.options.length; i++) {\n                if (select.options[i].value == 'S') {\n                    continue;\n                }\n\n                if (select.options[i].value == 'PSU') {\n                    continue;\n                }\n\n                if (!select.options[i].selected) {\n                    continue;\n                }\n\n                honorability = 1;\n                break;\n            }\n\n            let honorabilityElements = document.getElementsByName('honorability');\n            if (honorabilityElements[0]) {\n                honorabilityElements[0].setAttribute('value', honorability);\n\n                // Déclenche l'évènement pour que les hooks hideIf de Moodle fonctionnent.\n                var event = new Event('change');\n                honorabilityElements[0].dispatchEvent(event);\n            }\n        },\n        initialise: function() {\n            this.setHonorability();\n\n            let select = document.getElementById('id_licensetype');\n            if (select) {\n                select.addEventListener(\"change\", () => {\n                    this.setHonorability();\n                });\n            }\n        }\n    };\n});\n"],"names":["define","setHonorability","select","document","getElementById","honorability","i","options","length","value","selected","honorabilityElements","getElementsByName","setAttribute","event","Event","dispatchEvent","initialise","addEventListener"],"mappings":"AAAAA,qDAAO,IAAI,iBACA,CACHC,gBAAiB,iBACPC,OAASC,SAASC,eAAe,sBAElCF,kBAKDG,aAAe,MACd,IAAIC,EAAI,EAAGA,EAAIJ,OAAOK,QAAQC,OAAQF,OACR,KAA3BJ,OAAOK,QAAQD,GAAGG,OAIS,OAA3BP,OAAOK,QAAQD,GAAGG,OAIjBP,OAAOK,QAAQD,GAAGI,UAIvBL,aAAe,YAIfM,qBAAuBR,SAASS,kBAAkB,mBAClDD,qBAAqB,GAAI,CACzBA,qBAAqB,GAAGE,aAAa,QAASR,kBAG1CS,MAAQ,IAAIC,MAAM,UACtBJ,qBAAqB,GAAGK,cAAcF,SAG9CG,WAAY,gBACHhB,sBAEDC,OAASC,SAASC,eAAe,kBACjCF,QACAA,OAAOgB,iBAAiB,UAAU,UACzBjB"}