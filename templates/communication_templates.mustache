{{!
    This file is part of Moodle - http://moodle.org/

    Moodle is free software: you can redistribute it and/or modify
    it under the terms of the GNU General Public License as published by
    the Free Software Foundation, either version 3 of the License, or
    (at your option) any later version.

    Moodle is distributed in the hope that it will be useful,
    but WITHOUT ANY WARRANTY; without even the implied warranty of
    MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the
    GNU General Public License for more details.

    You should have received a copy of the GNU General Public License
    along with Moodle.  If not, see <http://www.gnu.org/licenses/>.
}}
{{!
    @template local_apsolu/communication_templates

    Template Moodle pour afficher la liste des mod√®les de messages

    Classes required for JS:
    * none

    Data attributes required for JS:
    * none

    Context variables required for this template:
    * wwwroot
    * count_templates
    * templates
        * id
        * subject

    Example context (json):
    {
        "wwwroot": "",
        "count_templates": 0,
        "templates": []
    }
}}
<p class="text-right"><a class="btn btn-primary" href="{{wwwroot}}/local/apsolu/communication/index.php?page=notify">{{#str}}new_message, local_apsolu{{/str}}</a></p>

{{^count_templates}}
    <p class="alert alert-info">{{#str}}no_templates, local_apsolu{{/str}}</p>
{{/count_templates}}

{{#count_templates}}
<table class="table table-striped">
    <tr>
        <th>{{#str}}subject{{/str}}</th>
        <th>{{#str}}actions{{/str}}</th>
    </tr>
    {{#templates}}
    <tr>
        <td><a href="{{wwwroot}}/local/apsolu/communication/index.php?page=notify&template={{id}}" aria-label="{{#str}}sendmessage, message{{/str}}"><i class="icon fa fa-envelope-open-o fa-fw" aria-hidden="true"></i>{{ subject }}</a></td>
        <td>
            <ul class="list-inline">
                <li class="list-inline-item mr-3">
                    <a href="{{wwwroot}}/local/apsolu/communication/index.php?page=templates&action=edit&id={{id}}"><i class="icon fa fa-cog fa-fw" aria-hidden="true"></i>{{#str}}edit{{/str}}</a>
                </li>
                <li class="list-inline-item mx-3">
                    <a href="{{wwwroot}}/local/apsolu/communication/index.php?page=templates&action=duplicate&id={{id}}"><i class="icon fa fa-copy fa-fw" aria-hidden="true"></i>{{#str}}duplicate{{/str}}</a>
                </li>
                <li class="list-inline-item ml-3">
                    <a href="{{wwwroot}}/local/apsolu/communication/index.php?page=templates&action=delete&id={{id}}"><i class="icon fa fa-trash fa-fw" aria-hidden="true"></i>{{#str}}delete{{/str}}</a>
                </li>
            </ul>
        </td>
    </tr>
    {{/templates}}
</table>
{{/count_templates}}
